<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org" th:fragment="layout(content)">

<head>
    <meta charset="UTF-8" />
    <title>Task Scheduler</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/css/bootstrap.min.css" rel="stylesheet" />
    <link rel="stylesheet" href="/css/adminlte.css" />
    <style>
    @media print {
        body {
            overflow: visible !important;
            height: auto !important;
            background-color: white !important; /* Fuerza fondo blanco en el body */
        }

        .app-wrapper,
        .content-wrapper,
        .app-main {
            display: block !important;
            position: static !important;
            overflow: visible !important;
            height: auto !important;
            min-height: unset !important;
            background-color: white !important; /* Fondo blanco para evitar grises */
        }

        .app-sidebar {
            display: none !important;
        }

        .day-block,
        .card {
            page-break-inside: avoid !important;
            background-color: white !important; /* Fondo blanco en tarjetas y bloques */
        }

        /* Forzar colores exactos, pero sin filtros grises */
        * {
            -webkit-print-color-adjust: exact !important;
            color-adjust: exact !important;
            background-color: transparent !important; /* Evita fondos grises heredados, excepto donde se especifique */
        }

        /* Excepciones: Mantén colores específicos si quieres */
        .badge.bg-primary { background-color: #007bff !important; color: white !important; } /* Azul para semana */
        .badge.bg-danger { background-color: #dc3545 !important; color: white !important; } /* Rojo para días */
        .badge.bg-success { background-color: #28a745 !important; color: white !important; } /* Verde para tareas */
    }
</style>
</head>

<body class="layout-fixed sidebar-expand-lg bg-body-tertiary">
    <div class="app-wrapper">

        <!-- HEADER -->
        <nav class="app-header navbar navbar-expand bg-body">
            <div class="container-fluid">
                <span class="navbar-brand mb-0 h1">Task Scheduler</span>
            </div>
        </nav>

        <!-- SIDEBAR -->
        <aside class="app-sidebar bg-dark shadow" data-bs-theme="dark">
            <div class="sidebar-brand">
                <a href="/" class="brand-link">
                    <span class="brand-text fw-bold">
                        <i class="bi bi-ui-checks-grid me-2"></i>Scheduler
                    </span>
                </a>
            </div>

            <div class="sidebar-wrapper">
                <nav class="mt-2">
                    <ul class="nav sidebar-menu flex-column">
                        <li class="nav-item">
                            <a href="/tasks" class="nav-link">
                                <i class="nav-icon bi bi-list-task"></i>
                                <p>Tareas</p>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="/persons" class="nav-link">
                                <i class="nav-icon bi bi-people"></i>
                                <p>Personas</p>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="/results" class="nav-link">
                                <i class="nav-icon bi bi-speedometer"></i>
                                <p>Resultados</p>
                            </a>
                        </li>
                    </ul>
                </nav>
            </div>
        </aside>

        <!-- MAIN -->
        <main class="app-main">
            <div class="container-fluid py-4 px-4">
                <th:block th:replace="${content}"></th:block>
            </div>
        </main>

        <!-- FOOTER -->
        <footer class="app-footer text-center">
            <strong>Task Scheduler</strong> © 2026
        </footer>

    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/js/bootstrap.bundle.min.js"></script>
    <script src="/js/adminlte.js"></script>
</body>

</html>